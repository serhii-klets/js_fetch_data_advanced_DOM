{"version":3,"sources":["scripts/main.js"],"names":["listUrl","detailsUrl","getPhones","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","statusText","json","getFirstReceivedDetails","arrPhonesID","arrForRace","map","phoneId","race","getAllSuccessfulDetails","arrayOfIds","arr","resolve","divFirstReceived","document","createElement","divAllSuccessful","className","insertAdjacentHTML","result","arrPhonesId","el","id","firstResolve","name","catch","forEach","elem","res","body","append"],"mappings":";AAAA,aAGA,IAAMA,EAAN,0EAEMC,EAAN,sEAGA,SAASC,IACAC,OAAAA,MAAMH,GACVI,KAAK,SAAAC,GAQGA,OAPFA,EAASC,IACZC,WAAW,WACFC,OAAAA,QAAQC,OAAO,IAAIC,MAASL,GAAAA,OAAAA,EAASM,OAC1CN,iBAAAA,OAAAA,EAASO,eACV,KAGEP,EAASQ,SAItB,SAASC,EAAwBC,GACzBC,IAAAA,EAAaD,EAAYE,IAAI,SAAAC,GAC1Bf,OAAAA,MAASF,GAAAA,OAAAA,EAAciB,KAAAA,OAAAA,EAAvB,UACJd,KAAK,SAAAC,GACA,IAACA,EAASC,GACNI,MAAAA,MAASL,GAAAA,OAAAA,EAASM,OAAYN,OAAAA,OAAAA,EAASO,aAGxCP,OAAAA,EAASQ,WAIfL,OAAAA,QAAQW,KAAKH,GAGtB,SAASI,EAAwBC,GACzBC,IAAAA,EAAMD,EAAWJ,IAAI,SAAAC,GAClBf,OAAAA,MAASF,GAAAA,OAAAA,EAAciB,KAAAA,OAAAA,EAAvB,UACJd,KAAK,SAAAC,GACAA,GAAAA,EAASC,GACJD,OAAAA,EAASQ,WAKjB,OAAA,IAAIL,QAAQ,SAACe,GAClBA,EAAQD,KAIZ,IAAME,EAAmBC,SAASC,cAAc,OAC1CC,EAAmBF,SAASC,cAAc,OAEhDF,EAAiBI,UAAY,iBAC7BD,EAAiBC,UAAY,iBAE7BJ,EAAiBK,mBAAmB,YAApC,2BAGAF,EAAiBE,mBAAmB,YAApC,2BAGA3B,IACGE,KAAK,SAAA0B,GACEC,IAAAA,EAAcD,EAAOb,IAAI,SAAAe,GAAMA,OAAAA,EAAGC,KAExCnB,EAAwBiB,GACrB3B,KAAK,SAAA8B,GACJV,EAAiBK,mBAAmB,YACrBK,aAAAA,OAAAA,EAAaC,KAAYD,SAAAA,OAAAA,EAAaD,GADrD,aAGDG,QAEHhB,EAAwBW,GACrB3B,KAAK,SAAAkB,GACJA,EAAIe,QAAQ,SAAAC,GACVA,EAAKlC,KAAK,SAAAmC,GACRZ,EAAiBE,mBAAmB,YACrBU,aAAAA,OAAAA,EAAIJ,KAAYI,SAAAA,OAAAA,EAAIN,GADnC,iBAKLG,QAEHX,SAASe,KAAKC,OAAOjB,EAAkBG,KAExCS","file":"main.fce92639.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n//\n\nconst listUrl = `https://\nmate-academy.github.io/phone-catalogue-static/api/phones.json`;\nconst detailsUrl = `https://\nmate-academy.github.io/phone-catalogue-static/api/phones/`;\n\nfunction getPhones() {\n  return fetch(listUrl)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          return Promise.reject(new Error(`${response.status}:\n          ${response.statusText}`));\n        }, 5000);\n      }\n\n      return response.json();\n    });\n}\n\nfunction getFirstReceivedDetails(arrPhonesID) {\n  const arrForRace = arrPhonesID.map(phoneId => {\n    return fetch(`${detailsUrl}/${phoneId}.json`)\n      .then(response => {\n        if (!response.ok) {\n          throw Error(`${response.status} - ${response.statusText}`);\n        }\n\n        return response.json();\n      });\n  });\n\n  return Promise.race(arrForRace);\n}\n\nfunction getAllSuccessfulDetails(arrayOfIds) {\n  const arr = arrayOfIds.map(phoneId => {\n    return fetch(`${detailsUrl}/${phoneId}.json`)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n      });\n  });\n\n  return new Promise((resolve) => {\n    resolve(arr);\n  });\n}\n\nconst divFirstReceived = document.createElement('div');\nconst divAllSuccessful = document.createElement('div');\n\ndivFirstReceived.className = 'first-received';\ndivAllSuccessful.className = 'all-successful';\n\ndivFirstReceived.insertAdjacentHTML('beforeend',\n  `<h3>First Received</h3>`);\n\ndivAllSuccessful.insertAdjacentHTML('beforeend',\n  `<h3>All Successful</h3>`);\n\ngetPhones()\n  .then(result => {\n    const arrPhonesId = result.map(el => el.id);\n\n    getFirstReceivedDetails(arrPhonesId)\n      .then(firstResolve => {\n        divFirstReceived.insertAdjacentHTML('beforeend',\n          `<li>Name: ${firstResolve.name} (ID:${firstResolve.id})</li>`);\n      })\n      .catch();\n\n    getAllSuccessfulDetails(arrPhonesId)\n      .then(arr => {\n        arr.forEach(elem => {\n          elem.then(res => {\n            divAllSuccessful.insertAdjacentHTML('beforeend',\n              `<li>Name: ${res.name} (ID:${res.id})</li>`);\n          });\n        });\n      })\n      .catch();\n\n    document.body.append(divFirstReceived, divAllSuccessful);\n  })\n  .catch();\n"]}